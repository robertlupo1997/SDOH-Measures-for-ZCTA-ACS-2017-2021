---
title: "SDOH Measures for ZCTA, ACS 2017-2021"
author: "RobertLupo"
date: "2024-05-28"
output: word_document
---
# Abstract
A brief summary of the project.

This project aims to analyze Social Determinants of Health (SDOH) measures for ZIP Code Tabulation Areas (ZCTA) using the American Community Survey (ACS) data from 2017 to 2021. By cleaning and exploring the dataset, we seek to uncover trends and insights that can inform data-driven decision-making. The analysis employs various statistical techniques and predictive modeling to evaluate the impact of different measures on health outcomes.

# Introduction
Provide context and state the research question or hypothesis.

Social Determinants of Health (SDOH) are non-medical factors that influence health outcomes. These include socioeconomic status, education, neighborhood and physical environment, employment, social support networks, and access to healthcare. This project focuses on analyzing SDOH measures across various ZIP Code Tabulation Areas (ZCTAs) using data from the American Community Survey (ACS) between 2017 and 2021. The goal is to identify key factors that impact health outcomes and understand the geographical distribution of these determinants.

# Data Description
Describe the dataset and its source.

The dataset used in this project is sourced from the American Community Survey (ACS) and provides SDOH measures for ZIP Code Tabulation Areas (ZCTAs) from 2017 to 2021. The dataset includes variables such as data_value, margin of error (moe), total population, latitude, longitude, and various categorical indicators. The data was cleaned to handle missing values and ensure consistency across measures.

# Methodology
Explain the statistical techniques and models applied.

The methodology for this project includes several steps:
1. Data Cleaning: Handling missing values and ensuring data consistency.
2. Exploratory Data Analysis (EDA): Generating summary statistics and visualizations to understand data distributions and relationships.
3. Correlation Analysis: Identifying relationships between numerical variables.
4. Predictive Modeling: Developing models to predict health outcomes based on SDOH measures. Models considered include linear regression, logistic regression, and support vector machines.
5. Model Evaluation: Assessing model performance using metrics such as R-squared, mean squared error, and accuracy, and employing cross-validation techniques.

# Results
Present findings from the analysis.

The analysis revealed several key insights:
- The distribution of key numerical variables such as data_value, moe, and total population.
- Correlation analysis showed significant relationships between data_value, latitude, longitude, and total population.
- Predictive modeling identified important SDOH measures that influence health outcomes. The models were evaluated and validated to ensure reliability.

# Discussion
Interpret the results and their implications.

The findings suggest that certain SDOH measures have a significant impact on health outcomes. For instance, areas with higher total populations and specific geographical locations tend to have different health outcomes. These insights can inform public health strategies and resource allocation to address disparities. However, the analysis is limited by the quality and granularity of the data, and further research could expand on these findings by incorporating additional variables and more granular data.

# Conclusion
Summarize key findings and suggest future research.

In conclusion, this project highlights the importance of SDOH measures in understanding health outcomes. By analyzing ACS data from 2017 to 2021, we identified key factors that influence health and provided insights that can guide public health decision-making. Future research could explore more detailed datasets and consider additional variables to further refine these findings.

# References
Cite sources and data used in the project.

American Community Survey (ACS) data, 2017-2021.

```{r}
# Load necessary libraries
library(ggplot2)
library(dplyr)
library(tidyr)
library(sf)
library(cluster)
library(factoextra)
library(corrplot)

# Load the dataset
data <- read.csv("C:/Users/Trey/Documents/GitHub/SDOH-Measures-for-ZCTA-ACS-2017-2021/bumh-rgsq_version_37.csv")

# View the first few rows of the dataset
head(data)

# Get a summary of the dataset
summary(data)

# Calculate summary statistics for numeric columns only
summary_statistics <- data %>%
  summarise(across(where(is.numeric), list(mean = ~mean(. , na.rm = TRUE),
                                           sd = ~sd(. , na.rm = TRUE),
                                           min = ~min(. , na.rm = TRUE),
                                           max = ~max(. , na.rm = TRUE))))
print(summary_statistics)

# Histograms
data %>%
  select(where(is.numeric)) %>%
  gather(key = "variable", value = "value") %>%
  ggplot(aes(x = value)) +
  geom_histogram(bins = 30) +
  facet_wrap(~variable, scales = "free") +
  theme_minimal()

# Box plots
data %>%
  select(where(is.numeric)) %>%
  gather(key = "variable", value = "value") %>%
  ggplot(aes(x = variable, y = value)) +
  geom_boxplot() +
  theme_minimal() +
  coord_flip()

# Compute correlation matrix for numeric columns only
correlation_matrix <- cor(data %>% select(where(is.numeric)), use = "complete.obs")

# Visualize the correlation matrix
corrplot::corrplot(correlation_matrix, method = "circle")

# Trend analysis: Assuming there is a 'year' column in the dataset (this column needs to be adjusted based on actual data)
if ("year" %in% colnames(data)) {
  data %>%
    gather(key = "variable", value = "value", -c(year)) %>%
    ggplot(aes(x = year, y = value, color = variable)) +
    geom_line() +
    facet_wrap(~variable, scales = "free_y") +
    theme_minimal()
}

# Geospatial analysis: Assuming there are 'latitude' and 'longitude' columns
if ("latitude" %in% colnames(data) & "longitude" %in% colnames(data)) {
  data_sf <- st_as_sf(data, coords = c("longitude", "latitude"), crs = 4326)

  # Plotting the spatial data (replace 'data_value' with an actual variable name)
  ggplot(data_sf) +
    geom_sf(aes(color = data_value), size = 2) +  # Change 'data_value' to the variable you want to visualize
    theme_minimal() +
    labs(title = "Geospatial Analysis", color = "Variable")
}

# Normalize the data for clustering (excluding non-numeric columns)
data_scaled <- scale(data %>% select(where(is.numeric)) %>% na.omit())

# Perform clustering
set.seed(123)
kmeans_result <- kmeans(data_scaled, centers = 3, nstart = 25)

# Visualize clustering result
fviz_cluster(kmeans_result, data = data_scaled, geom = "point", stand = FALSE) +
  theme_minimal() +
  labs(title = "Clustering Analysis")

# Regression analysis: Assuming 'data_value' is the outcome variable and others are predictors
model <- lm(data_value ~ ., data = data %>% select(where(is.numeric)))
summary(model)

# Visualize regression diagnostics
par(mfrow = c(2, 2))
plot(model)

```


